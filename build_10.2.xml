<?xml version="1.0" encoding="UTF-8"?>
<project name="Scratch for Flash Player 10.2" default="compile">
	<!-- load LOCAL configuration properties file -->
	<property file="local.properties" />

	<!-- load default configuration properties file -->
	<property file="build.properties" />

	<!-- points to our flexTasks.jar we copied to the libs folder to distribute with the project -->
	<property name="FLEX_HOME" value="${OLD_FLEX_HOME}" />
	<taskdef resource="flexTasks.tasks" classpath="${OLD_FLEX_HOME}/ant/lib/flexTasks.jar" uri="flex_4.5.1" />

	<!-- delete and create the DEPLOY dir again -->
	<target name="init">
		<delete dir="${DEPLOY_DIR}" />
		<mkdir dir="${DEPLOY_DIR}" />
	</target>

	<!-- Build and output Scratch.swf-->
	<target name="compile" depends="init">
		<old_flex:mxmlc file="${SRC_DIR}/Scratch.as" output="${DEPLOY_DIR}/Scratch.swf"
				target-player="10.2" swf-version="11" debug="false" xmlns:old_flex="flex_4.5.1">
			<source-path path-element="${SRC_DIR}" />
			<library-path file="${LIBS_DIR}/blooddy_crypto.swc" />
			<library-path file="${OLD_FLEX_HOME}/frameworks/libs/framework.swc" />
			<static-link-runtime-shared-libraries>true</static-link-runtime-shared-libraries>
			<default-size width="800" height="600" />
		</old_flex:mxmlc>
	</target>
</project>
